<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>Charts from HTML tables</title>
    <link rel="stylesheet" href="http://www.agmweb.ca/files/main.css" type="text/css" media="screen" charset="utf-8">
      <link rel="stylesheet" href="http://www.agmweb.ca/files/pygments.css" type="text/css" media="screen" charset="utf-8">
      <script src="http://www.agmweb.ca/files/js/main.js" defer="defer" type="text/javascript"></script>


    <script type="text/javascript" src="lightbox.js"></script>
    <script type="text/javascript" src="tablechart.js"></script>    
    <link rel="stylesheet" href="lightbox.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="tablechart.css" type="text/css" media="screen" />    

</head>
<body>
<div id="topbar">
    <div>
      <h1>Charts from HTML tables</h1>
  </div>
</div>
<div id="breadcrumbs">
    <a href="/blog/andy">Andy's Blog</a>
</div>
<table>
    <tr>
    <td valign="top" id="left"></td>
    <td valign="top" id="middle">
        <div>
        <p>This is a fiddling with the <a href="http://www.wait-till-i.com/2008/01/08/generating-charts-from-accessible-data-tables-using-the-google-charts-api/">generating charts from tables</a> method already demonstrated. That was licensed under the creative commons, as is this. This also uses <a href="http://huddletogether.com/projects/lightbox/">lightbox</a> also licensed under the creative commons.</p>
        <p>This code is available by SVN from:</p>
        <pre>svn co http://svn.clearwind.ca/public/projects/tablechart</pre>
        <p>To use make a table and give it the class "tochart". Assign one column to be the values, give it the class "labelchartcolumn". Assign one column to be the data, give it the class "valuechartcolumn". This will read through the table matching up similar labels to produce an output based on the some of the input.</p>
        <p>You'll need to add in:</p>
        <pre>&lt;script type="text/javascript" src="lightbox.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="tablechart.js"&gt;&lt;/script&gt;    
&lt;link rel="stylesheet" href="lightbox.css" type="text/css" media="screen" /&gt;
&lt;link rel="stylesheet" href="tablechart.css" type="text/css" media="screen" /&gt;</pre>
        <p>Finally at the bottom of your site, or in a Window onload method add in:</p>
        <pre>&lt;script type="text/javascript"&gt;tablechart();&lt;/script&gt;</pre>
        <!-- All the above is gunk, this is the bit that matters -->
        <table class="tograph">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>Date</th>
                    <th class="valuechartcolumn">Hours</th>
                    <th class="labelchartcolumn">Project</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Getting lint to pass</td>
                    <td>Jan. 7, 2008</td>
                    <td>1.3</td>
                    <td>Acme clients Inc.</td>
                </tr>
                <tr>
                    <td>Some miscellaneous stuff</td>                    
                    <td>Jan. 8, 2008</td>
                    <td>2.5</td>
                    <td>Another client</td>
                </tr>
                <tr>
                    <td>Unit test work</td>                    
                    <td>Jan. 7, 2008</td>
                    <td>4.0</td>
                    <td>Acme clients Inc.</td>
                </tr>
                <tr>
                    <td>Drinking tea</td>                    
                    <td>Jan. 9, 2008</td>
                    <td>1.5</td>
                    <td>Loverly people</td>
                </tr>
            </tbody>
        </table>
        <!-- All the above is the bit that matters -->
        <p>You should have a "Show as chart" link above, if not something has gone hideously wrong.</p>
        </td>
        <td valign="top" id="right" width="20%">
     	</td>
     </tr>
</table>
<script type="text/javascript">tablechart();</script>
</body>
</html>

