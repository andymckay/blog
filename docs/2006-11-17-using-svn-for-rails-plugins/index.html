<!DOCTYPE html>
<html lang="en">
<head>
<!-- Last built: 2021-12-05T00:21:38+00:00 -->
<meta charset="utf-8" />
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<title>Andy McKay :: Using SVN for rails plugins</title>
<link href="/css/style.css?v=2021-12-05T00:21:38+00:00" rel="stylesheet" type="text/css">
<link href="/css/pygments.css?v=2021-12-05T00:21:38+00:00" rel="stylesheet" type="text/css">
<link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
<link rel="alternate" href="/atom.xml" type="application/atom+xml">
<meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body>
<div id="main">
<header>
  <h1><a href="/">Andy McKay</a></h1>
</header>
<section>
<article>
<div class="meta">Nov 17, 2006</div>
<h2><a href="/2006-11-17-using-svn-for-rails-plugins/">Using SVN for rails plugins</a></h2>
<hr class="florished">
<p>One way to add functionality to Rails is to use the plugin framework. It seems pretty simple, you put your stuff in SVN and then do an install ala:</p>

<pre>
script/plugin install http://path.to.svn.server/project
</pre>

<p>Seemed simple enough. Problem is that the way it works is moronic. It grabs the HTML for page that you’d normally see in the browser, parses it using regex’s (a XML or HTML parsing library would be too much to ask). And then tries to download every file it can find.</p>

<p>Only problem is that it will also include the <em>svnindex.xsl</em> file if you’ve set up nice SVN pages following something like <a href="http://andrewbeacock.blogspot.com/2006/10/supporting-multiple-subversion-svn.html">this</a> and for some reason blow up at that point. Looking at the code, it only follows relative links, so the answer is to change Apache to use a full path to the xsl, so from:</p>

<pre>SVNIndexXSLT /svnindex.xsl</pre>

<p>…to:</p>

<pre>SVNIndexXSLT http://svn.clearwind.ca/svnindex.xsl</pre>

<p>The script ignores it and life continues.</p>

<div id="navigation">
  <a href="/2006-11-17-blame-canada-and-spain-for-deep-sea-trawling/">&laquo; older</a>
  <a href="/2006-11-18-the-ski-hills-are-open/">newer &raquo;</a>
</div>

</article>
</section>
<footer>
<div id="thefooter">
  <p>
    <a href="/">Home</a> &bull;
    <a href="/archives/">Archives</a>
  </p>
  <p>
    I work at <a href="https://github.com">GitHub</a>. I used to be at <a href="https://www.mozilla.com">Mozilla</a>.<br />
    <a href="mailto:andy@mckay.pub">andy@mckay.pub</a> &bull;
    <a href="https://mckay.pub.ca/atom.xml">RSS</a><br />
    <a href="https://twitter.com/andymckay">Twitter</a> &bull;
    <a href="https://www.linkedin.com/pub/andy-mckay/11/225/aa1">Linkedin</a> &bull;
    <a href="https://github.com/andymckay">GitHub</a><br />
  </p>
</div>
</footer>
</div>
</body>
</html>
