<!DOCTYPE html>
<html lang="en">
<head>
<!-- Last built: 2020-12-12T23:11:55+00:00 -->
<meta charset="utf-8" />
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<title>Andy McKay :: Plans for addons.mozilla.org</title>
<link href="/css/style.css?v=2020-12-12T23:11:55+00:00" rel="stylesheet" type="text/css">
<link href="/css/pygments.css?v=2020-12-12T23:11:55+00:00" rel="stylesheet" type="text/css">
<link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
<link rel="alternate" href="/atom.xml" type="application/atom+xml">
<meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body>
<div id="main">
<header>
  <h1><a href="/">Andy McKay</a></h1>
</header>
<section>
<article>
<div class="meta">Oct 31, 2015</div>
<h2><a href="/2015-10-31-amo-api/">Plans for addons.mozilla.org</a></h2>
<hr class="florished">
<p>We’ve been chatting a bit in the add-ons team at Mozilla about future plans for <a href="https://addons.mozilla.org">addons.mozilla.org</a>. That’s the main site for add-ons for Mozilla products and has been around in some form now for <a href="http://micropipes.com/blog/2014/02/21/ten-years-of-addons-mozilla-org/">over 11 years</a>.</p>

<p>It’s been running just great for a while with some maintenance from some <a href="https://github.com/magopian">great contributors</a>. But with a renewed focus on add-ons at Mozilla, we’ve had an opportunity to re-invest in the site and that got us re-evaluating where to go with the site.</p>

<p>If I have to sum up our strategy for the site, it would be this: <i>API first</i>.</p>

<p>This week at a show and tell some Mozilla developers showed some of the ideas that we are thinking of. Being able to sign an add-on through the <a href="https://github.com/mozilla-jetpack/jpm">jpm tool on the command line</a>. Having a JavaScript validator that runs locally and offline:</p>

<p><img src="/files/js-validator.png" /></p>

<p>Having the validator run as github webhook to return information to the developer right as they make changes in github:</p>

<p><img src="/files/github-hook.png" /></p>

<p>These are just examples of the stuff we’d like to be able to do, there’s more to come.</p>

<p>But it doesn’t stop there, to be able to improve the site quickly we want to change the development focus. Currently the whole site is tagged and deployed once a week. There is a lot of dependency between different parts of the site, for example a change to the CSS of the reviewer tools can break the CSS on the main site. Splitting it up will enable us to develop quickly and deploy confidently.</p>

<p>So we are planning to take key parts of the site and rewrite them to be browser based single page apps, talking to a back end API. Perhaps using React and some server side rendering. We’ll maybe end up with something like this, maybe:</p>

<p><img src="/files/overview.png" /></p>

<p>So for that we have a plan to keep working on the main code base, but doing our best to build out an API. Once that’s done, we’ll take a whole pile of the existing <a href="https://github.com/mozilla/olympia/">olympia code</a> and delete it, leaving the centre of our site as a small Django app that does authentication, workflow, storage and not a lot else.</p>

<p>The end result will be a site that works more where developers do their work and integrates with their toolchain. It will be faster to develop and adapt as add-ons become more central to Mozilla development.</p>

<p>We are always looking for help, if you’d like to join us check out <a href="https://wiki.mozilla.org/Add-ons">the wiki page for more</a>.</p>

<div id="navigation">
  <a href="/2015-10-25-why-mozilla/">&laquo; older</a>
  <a href="/2015-11-17-a-year-in-cycling/">newer &raquo;</a>
</div>

</article>
</section>
<footer>
<div id="thefooter">
  <p>
    <a href="/">Home</a> &bull;
    <a href="/archives/">Archives</a>
  </p>
  <p>
    I work at <a href="https://github.com">GitHub</a>. I used to be at <a href="https://www.mozilla.com">Mozilla</a>.<br />
    <a href="mailto:andy@mckay.pub">andy@mckay.pub</a> &bull;
    <a href="https://mckay.pub.ca/atom.xml">RSS</a><br />
    <a href="https://twitter.com/andymckay">Twitter</a> &bull;
    <a href="https://www.linkedin.com/pub/andy-mckay/11/225/aa1">Linkedin</a> &bull;
    <a href="https://github.com/andymckay">GitHub</a><br />
  </p>
</div>
</footer>
</div>
</body>
</html>
