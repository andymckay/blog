<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<title>Andy McKay :: Django media-url</title>
<link href="/css/style.css" rel="stylesheet" type="text/css">
<link href="/css/pygments.css" rel="stylesheet" type="text/css">
<link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
<link rel="alternate" href="/atom.xml" type="application/atom+xml">
<meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body>
<div id="main">
<header>
  <h1><a href="/">Andy McKay</a></h1>
</header>
<section>
<article>
<div class="meta">Apr 14, 2007</div>
<h2><a href="/2007-04-14-django-media-url/">Django media-url</a></h2>
<hr class="florished">
<p>Django applications have this thing that is very useful called MEDIA_URL specified in the configuration, that allows you to have a pointer to your static files, your css, js, images and so on. This is nice because it basically assumes that Django won't be responsible for serving your static stuff out to the world. Let Apache, IIS or whatever do that.</p>
<p>So in your templates, you can link to the MEDIA_URL to point to those files. On my development laptop it would be say <code>localhost</code> on my production server <code>www.agmweb.ca/somethingorother</code>. But wait the MEDIA_URL setting isn't available in a template, through a tag or anything. You have to change your views to use RequestContext and use a context preprocessor. If you do this at a beginning of a project its about 5 lines of code as <a href="http://www.b-list.org/weblog/2006/06/14/django-tips-template-context-processors">detailed here</a>.</p>
<p>So repeatedly people keep opening bugs on this eg: <a href="http://code.djangoproject.com/ticket/2532">http://code.djangoproject.com/ticket/2532</a> and <a href="http://code.djangoproject.com/ticket/1278">http://code.djangoproject.com/ticket/1278</a> and I can understand not having a template tag, or having all the settings exposed. But this is a useful tag, designed for this purpose, but hard to use. Why? There's no real explanation:

<blockquote>"Im marking this as a wontfix due to the slippery slope potential. If we added this, then people would want a context processor for another setting, and for another setting, and for another. We've already ruled out the idea of a "settings" context processor (see [1278]), so I'd recommend that people write their own two-line context processors if they really want this stuff."</blockquote>
<cite><a href="http://code.djangoproject.com/ticket/2532">http://code.djangoproject.com/ticket/2532</a></cite>

<p>People do seem to want it a lot, so it's being added to SimpleTemplate, the advantage of being able to do my own stuff. If there is another way people change the links of their static files, please let me know.</p>
</p>

<div id="navigation">
  <a href="/2007-04-13-scaling-rails/">&laquo; older</a>
  <a href="/2007-04-14-simpletemplate-03/">newer &raquo;</a>
</div>

</article>
</section>
<footer>
<div id="thefooter">
  <p>
    <a href="/">Home</a> &bull;
    <a href="/archives/">Archives</a>
  </p>
  <p>
    I work at <a href="https://github.com">GitHub</a>. I used to be at <a href="https://www.mozilla.com">Mozilla</a>.<br />
    <a href="mailto:andy@mckay.pub">andy@mckay.pub</a> &bull;
    <a href="https://mckay.pub/atom.xml">RSS</a><br />
    <a href="https://twitter.com/andymckay">Twitter</a> &bull;
    <a href="https://www.linkedin.com/pub/andy-mckay/11/225/aa1">Linkedin</a> &bull;
    <a href="https://github.com/andymckay">GitHub</a><br />
  </p>
</div>
</footer>
</div>
</body>
</html>
