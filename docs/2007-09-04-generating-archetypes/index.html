<!DOCTYPE html>
<html lang="en">
<head>
<!-- Last built: 2022-01-08T17:34:06+00:00 -->
<meta charset="utf-8" />
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<title>Andy McKay :: Generating Archetypes</title>
<link href="/css/style.css?v=2022-01-08T17:34:06+00:00" rel="stylesheet" type="text/css">
<link href="/css/pygments.css?v=2022-01-08T17:34:06+00:00" rel="stylesheet" type="text/css">
<link rel="shortcut icon" type="image/ico" href="/images/favicon.ico" />
<link rel="alternate" href="/atom.xml" type="application/atom+xml">
<meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body>
<div id="main">
<header>
  <h1><a href="/">Andy McKay</a></h1>
</header>
<section>
<article>
<div class="meta">Sep 04, 2007</div>
<h2><a href="/2007-09-04-generating-archetypes/">Generating Archetypes</a></h2>
<hr class="florished">
<p>Go back about 4 years to the first Vancouver Python and Zope Conference. Jim Roepcke, Joel Burton and I are on the beach looking out the mountains. I'm arguing what I really want is to be able to write content types in XML. None of this messing about with Python. Have something that is simple to jump into, easy to maintain and can allow tech savvy users easily get into Plone.</p>
<p>As ever, with great dignity and grace Joel kindly beat me down. What happens when you want to do something not covered in the XML, those custom methods to do processing can't be expressed in Python. My response was something about making CDATA blocks containing Python, not very convincing.</p>
<p>It seems Vidar has done something like this: <a href="http://svansson.org/articles/Generating-Plone-Products-without-UML">http://svansson.org/articles/Generating-Plone-Products-without-UML</a>. Congratulations to Vidar for that, it's very cool and I was quite excited by it. Well done.</p>
<p>But I have confess I've still got this nagging problem. It's not XML or Python. It's a whole new syntax. That worries me for a few reasons:</p>
<ul>
<li>Support of the syntax is always up to us.</li>
<li>Creating and supporting any tools for it are up to us.</li>
<li>It's another barrier to newbies, a new syntax, a new abbr.</li>
<li>My brain is full. I can keep Python, SQL, Ruby, PHP (yes don't ask), Javascript, Page Templates and bash in my head, but my brain is mostly mush and I can't keep it all up there.</li>
</ul>
<p>If you look at the syntax my first thought it looks kinda like Python. Why aren't we doing it in Python? That's mostly because the Python generating a content type sucks. It's long and hard and fraught with syntax errors and boilerplate code. But wait why are we doing code generation at all? Philip hit this point on the head: 
<blockquote>
Why do we actually have to generate all 
that code? I mean, it's ok to use paster for creating the absolute bare 
minimum boiler plate (directories, setup.py, etc.). But why is all the 
rest so verbose? Shouldn't we perhaps reduce all that verbosity? 
Shouldn't the common case simply be less to type so that we need less 
tools to get us there? </blockquote>
<cite><a href="http://www.nabble.com/Re%3A-Gems-of-GSoC-p12486755.html">http://www.nabble.com/Re%3A-Gems-of-GSoC-p12486755.html</a></cite>
<p>That .wsl code is not very removed from Python. Is that easier or harder to write than Python? One of the success of things like Django and Rails is that the code is actually pretty simple and hence not all scary to look at. A sample model for Django on that would look like this... first create the project:
<pre>
django-admin.py startproject contactbook
cd contactbook
manage.py startapp contacts 
</pre>
<p>Model code is simple:</p>
<pre>
from django.db import models

class Contact(models.Model):
    homephone = models.PhoneNumberField()
    address = models.TextField()    
    
    class Admin:
        pass
</pre>
<p>Don't forget to turn on the admin interface in urls.py (uncomment one line) and you are done. This isn't a who can write the application in the least lines of code competition, but it is interesting when I look at the power I can get from Django with way less than Archetypes.</p>
<p>I can give up on the XML, it's not the answer to everything. But simple and easy to write Python code allows:</p>
<ul>
<li>Lower barrier to entry, if you are using Plone you need to know Python anyway.</li>
<li>We don't have to maintain any tools, parsers etc.</li>
<li>One less abbr and tool for new people to worry about.</li>
</ul>
<p>With simple code, removing the boiler plate you have something that hopefully is easy to get into and easy to use. But once again, congratulations Vidar on a very good development that hopefully gets some traction behind it.</p>
</p></p>

<div id="navigation">
  <a href="/2007-08-26-plone-3-tiny-changes-3/">&laquo; older</a>
  <a href="/2007-09-06-komodo-going-open-source/">newer &raquo;</a>
</div>

</article>
</section>
<footer>
<div id="thefooter">
  <p>
    <a href="/">Home</a> &bull;
    <a href="/archives/">Archives</a>
  </p>
  <p>
    I work at <a href="https://github.com">GitHub</a>. I used to be at <a href="https://www.mozilla.com">Mozilla</a>.<br />
    <a href="mailto:andy@mckay.pub">andy@mckay.pub</a> &bull;
    <a href="https://mckay.pub.ca/atom.xml">RSS</a><br />
    <a href="https://twitter.com/andymckay">Twitter</a> &bull;
    <a href="https://www.linkedin.com/pub/andy-mckay/11/225/aa1">Linkedin</a> &bull;
    <a href="https://github.com/andymckay">GitHub</a><br />
  </p>
</div>
</footer>
</div>
</body>
</html>
